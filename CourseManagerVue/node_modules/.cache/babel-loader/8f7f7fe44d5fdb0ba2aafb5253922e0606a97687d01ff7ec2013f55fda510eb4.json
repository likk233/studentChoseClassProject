{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { login } from \"../api/user\";\nexport default {\n  data: function () {\n    return {\n      formData: {\n        username: \"\",\n        password: \"\",\n        userType: \"1\"\n      },\n      rules: {\n        username: [{\n          required: true,\n          message: \"请输入用户名\",\n          trigger: \"blur\"\n        }],\n        password: [{\n          required: true,\n          message: \"请输入密码\",\n          trigger: \"blur\"\n        }],\n        userType: [{\n          required: true,\n          message: \"请选择用户类型\",\n          trigger: \"blur\"\n        }]\n      }\n    };\n  },\n  methods: {\n    submit() {\n      this.$refs.form.validate(valid => {\n        if (valid) {\n          login(this.formData.username, this.formData.password, this.formData.userType).then(res => {\n            this.$message.success(\"登录成功: \" + res.username);\n            this.$store.commit(\"login\", res);\n            this.$router.push({\n              name: \"container\"\n            });\n          }).catch(e => {\n            console.log(e);\n            if (e.response == undefined || e.response.data == undefined) {\n              this.$message({\n                showClose: true,\n                message: e,\n                type: \"error\",\n                duration: 5000\n              });\n            } else {\n              this.$message({\n                showClose: true,\n                message: e.response.data,\n                type: \"error\",\n                duration: 5000\n              });\n            }\n            this.$store.state.loading = false;\n          });\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["login","data","formData","username","password","userType","rules","required","message","trigger","methods","submit","$refs","form","validate","valid","then","res","$message","success","$store","commit","$router","push","name","catch","e","console","log","response","undefined","showClose","type","duration","state","loading"],"sources":["/Users/lizi/Documents/GitHub/lib/studentChoseClassProject/CourseManagerVue/src/views/Login.vue"],"sourcesContent":["<template>\n    <div class=\"login-wrap\">\n        <div class=\"login-form\" style=\"opacity: 0.9\">\n            <div class=\"form-title\">\n                <i class=\"iconfont icon-r-paper\" style=\"font-size: 26px\">\n                    登录选课管理系统</i\n                >\n            </div>\n            <el-form\n                :model=\"formData\"\n                :rules=\"rules\"\n                class=\"form-content\"\n                label-width=\"0px\"\n                ref=\"form\"\n            >\n                <el-form-item prop=\"username\">\n                    <el-row>\n                        <el-col :span=\"3\">\n                            <i\n                                class=\"iconfont icon-r-user1\"\n                                style=\"font-size: 28px; color: grey\"\n                            ></i>\n                        </el-col>\n                        <el-col :span=\"21\">\n                            <el-input\n                                placeholder=\"账号\"\n                                v-model=\"formData.username\"\n                            >\n                            </el-input>\n                        </el-col>\n                    </el-row>\n                </el-form-item>\n\n                <el-form-item prop=\"password\">\n                    <el-row>\n                        <el-col :span=\"3\">\n                            <i\n                                class=\"iconfont icon-r-lock\"\n                                style=\"font-size: 28px; color: grey\"\n                            ></i>\n                        </el-col>\n                        <el-col :span=\"21\">\n                            <el-input\n                                @keyup.enter.native=\"submit()\"\n                                placeholder=\"密码\"\n                                type=\"password\"\n                                v-model=\"formData.password\"\n                            >\n                            </el-input>\n                        </el-col>\n                    </el-row>\n                </el-form-item>\n\n                <el-form-item\n                    prop=\"userType\"\n                    label=\"角色\"\n                    label-width=\"50px\"\n                    :custom-message=\"''\"\n                >\n                    <el-radio-group v-model=\"formData.userType\" size=\"mini\">\n                        <el-radio-button label=\"1\">学生</el-radio-button>\n                        <el-radio-button label=\"2\">教师</el-radio-button>\n                        <el-radio-button label=\"3\">管理员</el-radio-button>\n                    </el-radio-group>\n                </el-form-item>\n\n                <div class=\"login-btn\" v-loading=\"this.$store.state.loading\">\n                    <el-button @click=\"submit()\" type=\"primary\" style=\"font-size: 24px;\">\n                        登录</el-button>\n                </div>\n            </el-form>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { login } from \"../api/user\";\n\nexport default {\n    data: function () {\n        return {\n            formData: {\n                username: \"\",\n                password: \"\",\n                userType: \"1\",\n            },\n            rules: {\n                username: [\n                    {\n                        required: true,\n                        message: \"请输入用户名\",\n                        trigger: \"blur\",\n                    },\n                ],\n                password: [\n                    { required: true, message: \"请输入密码\", trigger: \"blur\" },\n                ],\n                userType: [\n                    {\n                        required: true,\n                        message: \"请选择用户类型\",\n                        trigger: \"blur\",\n                    },\n                ],\n            },\n        };\n    },\n    methods: {\n        submit() {\n            this.$refs.form.validate((valid) => {\n                if (valid) {\n                    login(\n                        this.formData.username,\n                        this.formData.password,\n                        this.formData.userType\n                    )\n                        .then((res) => {\n                            this.$message.success(\"登录成功: \" + res.username);\n                            this.$store.commit(\"login\", res);\n                            this.$router.push({ name: \"container\" });\n                        })\n                        .catch((e) => {\n                            console.log(e);\n                            if (\n                                e.response == undefined ||\n                                e.response.data == undefined\n                            ) {\n                                this.$message({\n                                    showClose: true,\n                                    message: e,\n                                    type: \"error\",\n                                    duration: 5000,\n                                });\n                            } else {\n                                this.$message({\n                                    showClose: true,\n                                    message: e.response.data,\n                                    type: \"error\",\n                                    duration: 5000,\n                                });\n                            }\n                            this.$store.state.loading = false\n                        });\n                }\n            });\n        },\n    },\n};\n</script>\n\n<style scoped>\n/* .login-wrap {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  background-size: 100% 100%;\n  background-color: lightblue;\n} */\n\n.login-wrap {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    overflow-y: auto;\n    height: 100%;\n    background: url(\"../assets/05.jpg\") center top / cover no-repeat;\n}\n\n.form-title {\n    width: 100%;\n    line-height: 80px;\n    text-align: center;\n\n    color: black;\n    border-bottom: 1px solid black;\n}\n\n.login-form {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    width: 350px;\n    margin: -190px 0 0 -175px;\n    border-radius: 5px;\n    background: white;\n    overflow: hidden;\n}\n\n.form-content {\n    padding: 30px 30px;\n}\n\n.login-btn {\n    text-align: center;\n}\n\n.login-btn button {\n    width: 100%;\n}\n\n.el-radio {\n    color: black;\n}\n</style>\n"],"mappings":";AA4EA,SAASA,KAAI,QAAS,aAAa;AAEnC,eAAe;EACXC,IAAI,EAAE,SAAAA,CAAA,EAAY;IACd,OAAO;MACHC,QAAQ,EAAE;QACNC,QAAQ,EAAE,EAAE;QACZC,QAAQ,EAAE,EAAE;QACZC,QAAQ,EAAE;MACd,CAAC;MACDC,KAAK,EAAE;QACHH,QAAQ,EAAE,CACN;UACII,QAAQ,EAAE,IAAI;UACdC,OAAO,EAAE,QAAQ;UACjBC,OAAO,EAAE;QACb,CAAC,CACJ;QACDL,QAAQ,EAAE,CACN;UAAEG,QAAQ,EAAE,IAAI;UAAEC,OAAO,EAAE,OAAO;UAAEC,OAAO,EAAE;QAAO,CAAC,CACxD;QACDJ,QAAQ,EAAE,CACN;UACIE,QAAQ,EAAE,IAAI;UACdC,OAAO,EAAE,SAAS;UAClBC,OAAO,EAAE;QACb,CAAC;MAET;IACJ,CAAC;EACL,CAAC;EACDC,OAAO,EAAE;IACLC,MAAMA,CAAA,EAAG;MACL,IAAI,CAACC,KAAK,CAACC,IAAI,CAACC,QAAQ,CAAEC,KAAK,IAAK;QAChC,IAAIA,KAAK,EAAE;UACPf,KAAK,CACD,IAAI,CAACE,QAAQ,CAACC,QAAQ,EACtB,IAAI,CAACD,QAAQ,CAACE,QAAQ,EACtB,IAAI,CAACF,QAAQ,CAACG,QAClB,EACKW,IAAI,CAAEC,GAAG,IAAK;YACX,IAAI,CAACC,QAAQ,CAACC,OAAO,CAAC,QAAO,GAAIF,GAAG,CAACd,QAAQ,CAAC;YAC9C,IAAI,CAACiB,MAAM,CAACC,MAAM,CAAC,OAAO,EAAEJ,GAAG,CAAC;YAChC,IAAI,CAACK,OAAO,CAACC,IAAI,CAAC;cAAEC,IAAI,EAAE;YAAY,CAAC,CAAC;UAC5C,CAAC,EACAC,KAAK,CAAEC,CAAC,IAAK;YACVC,OAAO,CAACC,GAAG,CAACF,CAAC,CAAC;YACd,IACIA,CAAC,CAACG,QAAO,IAAKC,SAAQ,IACtBJ,CAAC,CAACG,QAAQ,CAAC5B,IAAG,IAAK6B,SAAQ,EAC7B;cACE,IAAI,CAACZ,QAAQ,CAAC;gBACVa,SAAS,EAAE,IAAI;gBACfvB,OAAO,EAAEkB,CAAC;gBACVM,IAAI,EAAE,OAAO;gBACbC,QAAQ,EAAE;cACd,CAAC,CAAC;YACN,OAAO;cACH,IAAI,CAACf,QAAQ,CAAC;gBACVa,SAAS,EAAE,IAAI;gBACfvB,OAAO,EAAEkB,CAAC,CAACG,QAAQ,CAAC5B,IAAI;gBACxB+B,IAAI,EAAE,OAAO;gBACbC,QAAQ,EAAE;cACd,CAAC,CAAC;YACN;YACA,IAAI,CAACb,MAAM,CAACc,KAAK,CAACC,OAAM,GAAI,KAAI;UACpC,CAAC,CAAC;QACV;MACJ,CAAC,CAAC;IACN;EACJ;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}